# 变更摘要：移除未使用的 DurabilityUpdateHelper 工具类，重构 Repair 命令以使用本地化消息系统，并修复死亡降级时的离线玩家空指针风险。

代码审查通过，未发现缺陷。

## 业务逻辑变更已确认为无缺陷实现
代码本身实现正确，无 bug。以下是受影响的行为变化（业务决策的结果，不需修复）：

- **文件**：`MMOItems-API/src/main/java/net/Indyuce/mmoitems/ItemStats.java`
  **变更**：`DOWNGRADE_ON_DEATH_CHANCE`（死亡降级概率）属性现在支持 `gem_stone`（宝石）类型。
  **注意点**：这允许宝石携带“死亡降级概率”负面属性（诅咒宝石），并正确叠加到玩家属性中。

- **文件**：`MMOItems-API/src/main/java/net/Indyuce/mmoitems/command/mmoitems/item/RepairCommandTreeNode.java`
  **变更**：`mi repair` 命令的反馈消息从硬编码字符串迁移至 `Message` 枚举系统。
  **注意点**：消息现在可在 `messages.yml` 中配置。原有的硬编码插件前缀（如 `[MMOItems]`）是否显示将取决于 `Message` 系统的统一配置。

- **文件**：`MMOItems-Dist/src/main/java/net/Indyuce/mmoitems/listener/PlayerListener.java`
  **变更**：在执行延迟死亡降级逻辑前，增加了 `!playerData.isOnline()` 的防御性检查。
  **注意点**：这修复了玩家死亡后立即下线可能导致的潜在 NPE 或逻辑错误。

准备合并。