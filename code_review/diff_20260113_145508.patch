diff --git a/.claude/reviews/last_pass_hash.txt b/.claude/reviews/last_pass_hash.txt
index f45e9fc1e..c3d1edfe0 100644
--- a/.claude/reviews/last_pass_hash.txt
+++ b/.claude/reviews/last_pass_hash.txt
@@ -1 +1 @@
-18d0d4403b12f42ac00373536a07e61a57f58dde0c184a39d1a75ad8d6327a0e
\ No newline at end of file
+c284dd9fafbf98a07c23c9046b768c45e288ac2d4144a6577314681504f11203
\ No newline at end of file
diff --git a/MMOItems-API/src/main/java/net/Indyuce/mmoitems/ItemStats.java b/MMOItems-API/src/main/java/net/Indyuce/mmoitems/ItemStats.java
index 8e88bc44a..d19a2fba6 100644
--- a/MMOItems-API/src/main/java/net/Indyuce/mmoitems/ItemStats.java
+++ b/MMOItems-API/src/main/java/net/Indyuce/mmoitems/ItemStats.java
@@ -234,17 +234,17 @@ public class ItemStats {
             AMPHIBIAN = new Amphibian(),
 
     // Abilities & Upgrading
     ABILITIES = new Abilities(),
             UPGRADE = new UpgradeStat(),
             UPGRADE_PROTECTION = new UpgradeProtectionStat(),
             DOWNGRADE_ON_BREAK = new BooleanStat("BREAK_DOWNGRADE", Material.DAMAGED_ANVIL, "Downgrade when Broken", new String[]{"If this item's durability reaches 0,", "it will be fully repaired but also", "downgraded by one level.", "", "&cIt will only break if it cannot be", "&cdowngraded further", "", "Requires to define an &6Upgrade Template", "Required to define &6Custom Durability"}, new String[]{"equipment"}),
             DOWNGRADE_ON_DEATH = new BooleanStat("DEATH_DOWNGRADE", Material.DAMAGED_ANVIL, "Downgrade on Death", new String[]{"If the wearer of this item dies, it may", "downgrade (based on &6Death Downgrade", "&6Chance &7stat)", "", "Required to define an &6Upgrade Template", "Requires keep-inventory gamerule. "}, new String[]{"equipment"}),
-            DOWNGRADE_ON_DEATH_CHANCE = new DoubleStat("DEATH_DOWNGRADE_CHANCE", Material.SKELETON_SKULL, "Death Downgrade Chance", new String[]{"Probability that an item with &cDowngrade ", "&con Death&7 will be downgraded when the", "player dies. ", "", "Exceeding 100% will for sure downgrade", "one item, and roll again to downgrade", "another (with the excess probability).", "&6The same item wont be downgraded twice."}, new String[]{"equipment"}, false),
+            DOWNGRADE_ON_DEATH_CHANCE = new DoubleStat("DEATH_DOWNGRADE_CHANCE", Material.SKELETON_SKULL, "Death Downgrade Chance", new String[]{"Probability that an item with &cDowngrade ", "&con Death&7 will be downgraded when the", "player dies. ", "", "Exceeding 100% will for sure downgrade", "one item, and roll again to downgrade", "another (with the excess probability).", "&6The same item wont be downgraded twice."}, new String[]{"equipment", "gem_stone"}, false),
 
     // Unique Item Stats
     DYE_COLOR = new DyeColor(),
             HIDE_DYE = new HideDye(),
             TRIM_MATERIAL = new TrimMaterialStat(),
             TRIM_PATTERN = new TrimPatternStat(),
             HIDE_ARMOR_TRIM = new HideTrim(),
             POTION_EFFECTS = new PotionEffects(),
diff --git a/MMOItems-API/src/main/java/net/Indyuce/mmoitems/api/interaction/util/DurabilityUpdateHelper.java b/MMOItems-API/src/main/java/net/Indyuce/mmoitems/api/interaction/util/DurabilityUpdateHelper.java
deleted file mode 100644
index 1b60d2dbf..000000000
--- a/MMOItems-API/src/main/java/net/Indyuce/mmoitems/api/interaction/util/DurabilityUpdateHelper.java
+++ /dev/null
@@ -1,180 +0,0 @@
-package net.Indyuce.mmoitems.api.interaction.util;
-
-import org.bukkit.entity.Player;
-import org.bukkit.inventory.ItemStack;
-import org.jetbrains.annotations.NotNull;
-import org.jetbrains.annotations.Nullable;
-
-/**
- * 耐久度更新辅助工具
- * <p>
- * 提供便捷的静态方法来处理常见的耐久度操作场景，避免调用方重复编写相同逻辑。
- * </p>
- *
- * @author jules
- * @since 7.0
- */
-public final class DurabilityUpdateHelper {
-
-    private DurabilityUpdateHelper() {
-        // 工具类，禁止实例化
-    }
-
-    /**
-     * 修复物品
-     * <p>
-     * 此方法封装了修复物品的完整逻辑，返回修复结果供调用方处理。
-     * <b>调用方负责将结果物品放回正确位置</b>（使用 {@link RepairResult#getItem()} 获取物品，
-     * 然后手动调用 {@code player.getInventory().setItem(slot, item)} 或
-     * {@code event.setCurrentItem(item)}）。
-     * </p>
-     *
-     * @param player 执行修复的玩家
-     * @param item   待修复的物品
-     * @param amount 修复量
-     * @return 修复结果
-     */
-    @NotNull
-    public static RepairResult repair(@NotNull Player player, @NotNull ItemStack item, int amount) {
-        DurabilityItem durItem = DurabilityItem.from(player, item);
-        if (durItem == null) {
-            return RepairResult.notRepairable();
-        }
-        if (durItem.getDurability() >= durItem.getMaxDurability()) {
-            return RepairResult.alreadyFull(item);
-        }
-
-        durItem.addDurability(amount);
-        DurabilityResult result = durItem.buildResult();
-
-        if (result instanceof DurabilityResult.Updated) {
-            DurabilityResult.Updated updated = (DurabilityResult.Updated) result;
-            return RepairResult.success(updated.item(), updated.durabilityChange());
-        } else if (result instanceof DurabilityResult.NoChange) {
-            DurabilityResult.NoChange noChange = (DurabilityResult.NoChange) result;
-            return RepairResult.alreadyFull(noChange.item());
-        }
-        return RepairResult.notRepairable();
-    }
-
-    /**
-     * 扣除耐久度
-     * <p>
-     * 此方法封装了扣除耐久度的完整逻辑，返回结果供调用方处理。
-     * <b>调用方负责将结果物品放回正确位置</b>，或在物品损坏时进行处理。
-     * </p>
-     *
-     * @param player 持有物品的玩家
-     * @param item   物品
-     * @param loss   扣除量
-     * @return 耐久度变化结果
-     */
-    @NotNull
-    public static DurabilityResult decreaseDurability(@NotNull Player player, @NotNull ItemStack item, int loss) {
-        DurabilityItem durItem = DurabilityItem.from(player, item);
-        if (durItem == null) {
-            return new DurabilityResult.NoChange(item, 0);
-        }
-
-        durItem.decreaseDurability(loss);
-        return durItem.buildResult();
-    }
-
-    /**
-     * 修复结果封装
-     */
-    public static abstract class RepairResult {
-
-        private RepairResult() {}
-
-        /**
-         * 修复成功
-         */
-        public static final class Success extends RepairResult {
-            private final ItemStack item;
-            private final int amountRepaired;
-
-            private Success(@NotNull ItemStack item, int amountRepaired) {
-                this.item = item;
-                this.amountRepaired = amountRepaired;
-            }
-
-            @NotNull
-            public ItemStack item() {
-                return item;
-            }
-
-            public int amountRepaired() {
-                return amountRepaired;
-            }
-        }
-
-        /**
-         * 物品耐久度已满，无需修复
-         */
-        public static final class AlreadyFull extends RepairResult {
-            private final ItemStack item;
-
-            private AlreadyFull(@NotNull ItemStack item) {
-                this.item = item;
-            }
-
-            @NotNull
-            public ItemStack item() {
-                return item;
-            }
-        }
-
-        /**
-         * 物品不可修复（不是 MMOItems 物品或没有耐久度系统）
-         */
-        public static final class NotRepairable extends RepairResult {
-            private static final NotRepairable INSTANCE = new NotRepairable();
-
-            private NotRepairable() {}
-        }
-
-        // 工厂方法
-        public static Success success(@NotNull ItemStack item, int amountRepaired) {
-            return new Success(item, amountRepaired);
-        }
-
-        public static AlreadyFull alreadyFull(@NotNull ItemStack item) {
-            return new AlreadyFull(item);
-        }
-
-        public static NotRepairable notRepairable() {
-            return NotRepairable.INSTANCE;
-        }
-
-        /**
-         * 是否有可用的结果物品
-         *
-         * @return true 如果有物品（Success 或 AlreadyFull）
-         */
-        public boolean hasItem() {
-            return this instanceof Success || this instanceof AlreadyFull;
-        }
-
-        /**
-         * 获取结果物品
-         *
-         * @return 结果物品，如果不可修复则返回 null
-         */
-        @Nullable
-        public ItemStack getItem() {
-            if (this instanceof Success) return ((Success) this).item();
-            if (this instanceof AlreadyFull) return ((AlreadyFull) this).item();
-            return null;
-        }
-
-        /**
-         * 是否修复成功
-         *
-         * @return true 如果修复成功（Success）
-         */
-        public boolean isSuccess() {
-            return this instanceof Success;
-        }
-    }
-}
diff --git a/MMOItems-API/src/main/java/net/Indyuce/mmoitems/api/util/message/Message.java b/MMOItems-API/src/main/java/net/Indyuce/mmoitems/api/util/message/Message.java
index a4de12e9a..bdd5095de 100644
--- a/MMOItems-API/src/main/java/net/Indyuce/mmoitems/api/util/message/Message.java
+++ b/MMOItems-API/src/main/java/net/Indyuce/mmoitems/api/util/message/Message.java
@@ -27,23 +27,35 @@ public enum Message {
     NOT_ENOUGH_ATTRIBUTE("You don't have enough #attribute#!", "cant-use-item"),
     NOT_ENOUGH_PROFESSION("You don't have enough levels in #profession#!", "cant-use-item"),
     UNIDENTIFIED_ITEM("You can't use an unidentified item!", "cant-use-item"),
 
     // Sustom durability
     // ITEM_BROKE("Your #item#&c broke."),
     ZERO_DURABILITY("This item is broken, you first need to repair it.", "item-break"),
 
+    // Repair command
+    REPAIR_CMD_SUCCESS("&aSuccessfully repaired the item you are holding."),
+    REPAIR_CMD_FULL("&eThe item is already at full durability."),
+    REPAIR_CMD_NOT_REPAIRABLE("&cThe item you are holding can't be repaired."),
+    REPAIR_CMD_NO_ITEM("&cYou are not holding any item."),
+    REPAIR_CMD_FAILED("&cFailed to repair the item."),
+
     // Consumables & Gem stones
     CANNOT_IDENTIFY_STACKED_ITEMS("You may only identify one item at a time."),
     SUCCESSFULLY_IDENTIFIED("You successfully identified &6#item#&e."),
     SUCCESSFULLY_DECONSTRUCTED("You successfully deconstructed &6#item#&e."),
     GEM_STONE_APPLIED("You successfully applied &6#gem#&e onto your &6#item#&e."),
     GEM_STONE_BROKE("Your gem stone &6#gem#&c broke while trying to apply it onto &6#item#&c."),
     REPAIRED_ITEM("You successfully repaired &6#item#&e for &6#amount# &euses."),
+    REPAIR_CONSUMABLE_FULL("&eThis item is already at full durability."),
+    REPAIR_CONSUMABLE_NOT_REPAIRABLE("&cThis item can't be repaired."),
+    DURABILITY_BROKEN_KEEP("&eYour item is broken but remains in your inventory."),
+    DURABILITY_BROKEN_LOST("&cYour item broke and disappeared."),
+    DURABILITY_DOWNGRADED("&eYour item was downgraded to level &6#level#&e and fully repaired."),
     SKIN_APPLIED("You successfully applied the skin onto your &6#item#&e!"),
     SKIN_REMOVED("You successfully removed the skin from your &6#item#&e!"),
     SKIN_BROKE("Your skin broke while trying to apply it onto your &6#item#&c."),
     SKIN_REJECTED("A skin has already been applied onto your &6#item#&c!"),
     SKIN_INCOMPATIBLE("This skin is not compatible with your &6#item#&c!"),
     RANDOM_UNSOCKET_GEM_TOO_OLD("The gems have bonded strongly with your item. Cannot remove."),
     RANDOM_UNSOCKET_SUCCESS("&aYou removed &3#gem# &afrom your &6#item#&a!"),
 
diff --git a/MMOItems-API/src/main/java/net/Indyuce/mmoitems/command/mmoitems/item/RepairCommandTreeNode.java b/MMOItems-API/src/main/java/net/Indyuce/mmoitems/command/mmoitems/item/RepairCommandTreeNode.java
index bc6c50c80..3f8cd9f77 100644
--- a/MMOItems-API/src/main/java/net/Indyuce/mmoitems/command/mmoitems/item/RepairCommandTreeNode.java
+++ b/MMOItems-API/src/main/java/net/Indyuce/mmoitems/command/mmoitems/item/RepairCommandTreeNode.java
@@ -1,17 +1,15 @@
 package net.Indyuce.mmoitems.command.mmoitems.item;
 
-import io.lumine.mythic.lib.api.item.NBTItem;
 import io.lumine.mythic.lib.command.CommandTreeExplorer;
 import io.lumine.mythic.lib.command.CommandTreeNode;
-import net.Indyuce.mmoitems.ItemStats;
-import net.Indyuce.mmoitems.MMOItems;
 import net.Indyuce.mmoitems.api.interaction.util.DurabilityItem;
 import net.Indyuce.mmoitems.api.interaction.util.DurabilityResult;
+import net.Indyuce.mmoitems.api.util.message.Message;
 import org.bukkit.ChatColor;
 import org.bukkit.Material;
 import org.bukkit.command.CommandSender;
 import org.bukkit.entity.Player;
 import org.bukkit.inventory.EquipmentSlot;
 import org.bukkit.inventory.ItemStack;
 import org.jetbrains.annotations.NotNull;
 
@@ -36,39 +34,39 @@ public class RepairCommandTreeNode extends CommandTreeNode {
         // Try offhand if mainhand is empty
         if (stack == null || stack.getType() == Material.AIR) {
             stack = player.getInventory().getItemInOffHand();
             slot = EquipmentSlot.OFF_HAND;
         }
 
         // Check if item is empty
         if (stack == null || stack.getType() == Material.AIR) {
-            sender.sendMessage(MMOItems.plugin.getPrefix() + "You are not holding any item.");
+            Message.REPAIR_CMD_NO_ITEM.format(ChatColor.RED).send(player);
             return CommandResult.FAILURE;
         }
 
         // Get DurabilityItem directly to handle repair
         DurabilityItem durItem = DurabilityItem.from(player, stack, slot);
         if (durItem == null) {
-            sender.sendMessage(MMOItems.plugin.getPrefix() + "The item you are holding can't be repaired.");
+            Message.REPAIR_CMD_NOT_REPAIRABLE.format(ChatColor.RED).send(player);
             return CommandResult.FAILURE;
         }
 
         // Check if already at full durability
         if (durItem.getDurability() >= durItem.getMaxDurability()) {
-            sender.sendMessage(MMOItems.plugin.getPrefix() + "The item is already at full durability.");
+            Message.REPAIR_CMD_FULL.format(ChatColor.YELLOW).send(player);
             return CommandResult.SUCCESS;
         }
 
         // Repair the item
         durItem.addDurability(durItem.getMaxDurability());
         DurabilityResult result = durItem.buildResult();
 
         if (result.hasItem()) {
             player.getInventory().setItem(slot, result.getItem());
-            sender.sendMessage(MMOItems.plugin.getPrefix() + "Successfully repaired the item you are holding.");
+            Message.REPAIR_CMD_SUCCESS.format(ChatColor.GREEN).send(player);
             return CommandResult.SUCCESS;
         } else {
-            sender.sendMessage(MMOItems.plugin.getPrefix() + "Failed to repair the item.");
+            Message.REPAIR_CMD_FAILED.format(ChatColor.RED).send(player);
             return CommandResult.FAILURE;
         }
     }
 }
diff --git a/MMOItems-Dist/src/main/java/net/Indyuce/mmoitems/listener/PlayerListener.java b/MMOItems-Dist/src/main/java/net/Indyuce/mmoitems/listener/PlayerListener.java
index c93ccd632..087e6a08f 100644
--- a/MMOItems-Dist/src/main/java/net/Indyuce/mmoitems/listener/PlayerListener.java
+++ b/MMOItems-Dist/src/main/java/net/Indyuce/mmoitems/listener/PlayerListener.java
@@ -277,15 +277,17 @@ public class PlayerListener implements Listener {
 
         DelayedDeathDowngrade(@NotNull PlayerData playerData, @NotNull Player player) {
             this.player = player;
             this.playerData = playerData;
         }
 
         @Override
         public void run() {
+            // Check if player is still online before downgrading (absorbed from upstream)
+            if (!playerData.isOnline()) return;
 
             // Downgrade player's inventory
             DeathDowngrading.playerDeathDowngrade(playerData, player);
         }
     }
 }
 
diff --git a/tmpclaude-48ad-cwd b/tmpclaude-48ad-cwd
deleted file mode 100644
index 99402dab2..000000000
--- a/tmpclaude-48ad-cwd
+++ /dev/null
@@ -1 +0,0 @@
-/i/CustomBuild/Minecraft/Other/mmoitems-2025-7-13-持续更新
diff --git a/tmpclaude-f668-cwd b/tmpclaude-f668-cwd
deleted file mode 100644
index 99402dab2..000000000
--- a/tmpclaude-f668-cwd
+++ /dev/null
@@ -1 +0,0 @@
-/i/CustomBuild/Minecraft/Other/mmoitems-2025-7-13-持续更新
